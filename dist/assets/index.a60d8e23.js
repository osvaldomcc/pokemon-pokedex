import{j as e,r as c,F as T,u as g,a as i,b as m,W as k,c as E,d as O,l as f,e as _,f as B,S as R,O as F,g as q,h as Q,i as W,Q as z,k as H,q as K,R as V,m as G,n as U,o as Y}from"./vendor.a77f828f.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerpolicy&&(l.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?l.credentials="include":a.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}})();const b="text-blueDark dark:text-gray-300",d=t=>{const{variant:r,className:s,styles:n,children:a,...l}=t;switch(r){case"h1":return e("h1",{className:`font-bold text-2xl ${b} ${s}`,style:n,...l,children:a});case"h2":return e("h2",{className:`font-semibold text-md ${b} ${s}`,style:n,...l,children:a});default:return e("p",{className:`${b} ${s}`,style:n,...l,children:a})}},N="/pokemon-pokedex/assets/pikachu.a18271b9.svg",w=({children:t,className:r,styles:s,imgColor:n=N})=>{const[a,l]=c.exports.useState("");return c.exports.useEffect(()=>{new T().getColorAsync(n).then(h=>{l(h.rgba)}).catch(h=>l("bg-blue-200"))},[n]),e("div",{className:`rounded-lg bg-blue-200 overflow-hidden ${r}`,style:{backgroundColor:a||"",...s},children:t})},J=({className:t})=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`w-6 h-6 ${t}`,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21L3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"})}),X=({className:t})=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`w-6 h-6 ${t}`,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),Z=({className:t})=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`w-6 h-6 ${t}`,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75"})}),L=({className:t})=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`w-6 h-6 ${t}`,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})}),ee=({className:t})=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`w-6 h-6 ${t}`,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})}),te=({className:t})=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`w-6 h-6 ${t}`,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})}),re=({className:t})=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`w-6 h-6 ${t}`,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5L12 3m0 0l7.5 7.5M12 3v18"})}),P=({className:t,labelClassName:r})=>{const[s,n]=c.exports.useState(""),a=g(),l=h=>{n(h.target.value.toLowerCase().trim())},o=h=>{h.preventDefault(),s.length>=2&&(a(`/pokemon/${s}`),n(""))};return i("form",{autoComplete:"off",className:`${t}`,onSubmit:o,children:[e("label",{htmlFor:"name",className:`${r}`,children:e(d,{children:"Search for a pokemon by name or id"})}),i("div",{className:"flex justify-between items-center gap-2 mt-4 bg-lightGray px-3 py-1 rounded-md",children:[e("button",{type:"submit","data-testid":"search-button",children:e(X,{className:"w-5 h-5 text-blueDark"})}),e("input",{"aria-placeholder":"pikachu",value:s,onChange:l,autoFocus:!0,style:{background:"none"},type:"text",name:"name",id:"name",placeholder:"pikachu",className:"flex-1 outline-none bg-sky-700 text-blueDark"}),e("button",{className:"bg-blueDark p-1 rounded text-white",type:"submit",children:e(J,{className:"w-5 h-5"})})]})]})},se="/pokemon-pokedex/assets/ogimage.bb346798.png",ne=()=>i(m,{children:[i(k,{children:[e("title",{children:"Pokedex"}),e("meta",{property:"og:title",content:"Pokedex App"}),e("meta",{property:"og:description",content:"The best Pokedex ever"}),e("meta",{property:"og:image",content:`${window.location.origin}${se}`})]}),i("div",{className:"sticky top-0 bg-white pt-5 pb-5 z-10 px-5 md:relative dark:bg-slate-900",children:[e("div",{children:e(d,{variant:"h1",className:"md:text-center",children:"Pokedex"})}),e("div",{className:"max-w-2xl mx-auto",children:e(P,{labelClassName:"md:text-center"})})]})]}),x=({children:t,className:r})=>e("div",{className:"flex justify-center",children:e("div",{className:`container px-5 md:border md:border-blueDark md:rounded-lg md:p-5 md:mx-20 ${r}`,children:t})});const p=({width:t,height:r,alt:s,src:n})=>e("figure",{children:e(E.exports.LazyLoadImage,{src:n,width:t,height:r,alt:s,effect:"blur"})}),ae="/pokemon-pokedex/assets/pokeicon.65029558.png",ie=()=>{const t=g();return e("nav",{className:"hidden md:block bg-blueLigth text-white h-14 sticky top-0 z-30 dark:bg-blueDark",children:e("div",{className:"flex justify-center items-center pt-2",children:e("div",{className:"container",children:i("div",{className:"flex items-center justify-between px-10",children:[e("button",{onClick:()=>t("/",{preventScrollReset:!0}),children:e(p,{width:35,height:35,alt:"poke-icon",src:ae})}),e(A,{})]})})})})},C=()=>e("div",{className:"absolute backdrop-blur-md inset-0 z-20","data-testid":"loading",children:e("div",{className:"flex h-screen justify-center items-center dark:text-gray-300 text-blueDark",children:e(L,{className:"w-9 h-9 animate-bounce"})})}),le=({children:t,onReachEnd:r,isLoading:s})=>{const n=c.exports.useRef(null),a=c.exports.useCallback(l=>{l[0].isIntersecting&&r()},[r]);return c.exports.useEffect(()=>{const l={root:null,rootMargin:"100px",threshold:0},o=new window.IntersectionObserver(a,l);n.current&&o.observe(n.current)},[a]),i(m,{children:[t,e("div",{ref:n,id:"loader"}),s&&e("div",{className:"flex items-center justify-center py-8",children:e(L,{className:"w-9 h-9 animate-bounce dark:text-gray-300"})})]})},S=({children:t})=>{const r=g();return e("div",{className:"flex items-center justify-center h-[calc(100vh-10rem)]",children:i("div",{className:"flex flex-col items-center",children:[e("div",{className:"mb-5",children:e(p,{width:150,height:150,alt:"pikachu",src:N})}),t,e("button",{onClick:()=>{r("/",{preventScrollReset:!0})},className:"border-2 border-blueDark px-4 py-1 mt-2 rounded bg-blueLigth text-white hover:bg-blueDark transition-all",children:"Go Home"})]})})},j=()=>i(S,{children:[e(d,{variant:"h1",children:"We couldn't find the Pokemon"}),e(d,{children:"Please try with another one"})]}),oe=()=>i(S,{children:[e(d,{variant:"h1",children:"Oops! there was an error"}),e(d,{children:"Please contact the admin"})]}),$=({error:t,children:r})=>{var s;return e(m,{children:t?((s=t.response)==null?void 0:s.status)===404?e(j,{}):e(oe,{}):r})},A=()=>{const[t,r]=c.exports.useState("light"),s=n=>{r(n),window.localStorage.setItem("theme",n)};return c.exports.useEffect(()=>{const n=window.localStorage.getItem("theme")||"light";r(n)},[]),c.exports.useEffect(()=>{document.body.classList.remove(t==="dark"?"light":"dark"),document.body.classList.add(t),t==="dark"?document.body.classList.add("dark:bg-slate-900"):document.body.classList.remove("dark:bg-slate-900")},[t]),e(m,{children:t==="dark"?e("button",{onClick:()=>s("light"),children:e(te,{})}):i("button",{onClick:()=>s("dark"),"data-testid":"moon-btn",children:[" ",e(ee,{className:"h-5 w-5"})]})})},ce=({children:t})=>e(m,{children:i("div",{className:"min-h-screen dark:bg-slate-900",children:[e("div",{className:"md:hidden sticky top-5 z-20",children:e("div",{className:"flex justify-end mr-5",children:e("div",{className:"flex items-center justify-center rounded-md bg-white w-10 h-10 dark:text-white dark:bg-slate-900",children:e(A,{})})})}),t]})}),v=O.create({baseURL:"https://pokeapi.co/api/v2",headers:{"Content-Type":"application/json"}}),M="/pokemon",de=async(t=0,r=10)=>{const s=new URLSearchParams;return s.append("limit",String(r)),s.append("offset",String(t)),v.get(M,{params:s})},he=async t=>v.get(`${M}/${t}`),me=async t=>v.get(`ability/${t}`),y={getAllPokemons:de,getPokemon:he,getAbilities:me},ue=t=>`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/dream-world/${t}.svg`;f.rest.get("*/pokemon",(t,r,s)=>r(s.status(200),s.json({count:0,next:"https://pokeapi.co/api/v2/next",previous:"https://pokeapi.co/api/v2/prev",results:[]}))),f.rest.get("*/pokemon/*",(t,r,s)=>r(s.status(200),s.json({base_experience:0,forms:[],id:1,name:"bulbasaur",order:1,species:{name:"bulba",url:"https://www.google.com"},sprites:{back_default:"string",back_shiny:"string",front_default:"string",front_shiny:"string"},stats:[],types:[],weight:600,image:"bulba",abilities:[],ability:"The best pokemon ever"}))),f.rest.get("*/ability/*",(t,r,s)=>r(s.status(200),s.json({effect_entries:[]})));const I=async t=>{const{data:r}=await y.getPokemon(t),s={id:r.id,base_experience:r.base_experience,forms:r.forms,name:r.name,order:r.order,species:r.species,sprites:r.sprites,stats:r.stats,types:r.types,weight:r.weight,image:ue(r.id),ability:""},n=r.abilities;if(n&&n[0].ability.name!==""){const a=n[0].ability.url.match(/\d+/g);a&&(await y.getAbilities(a.length>0?Number(a[1]):1)).data.effect_entries.forEach(o=>{o.language.name==="en"&&(s.ability=o.effect)})}return s},ge=async({pageParam:t=0,queryKey:r})=>{var h;const[,s]=r,{limit:n}=s;let a=[];const l=[],o=await y.getAllPokemons(t*10,n);return((h=o==null?void 0:o.data)==null?void 0:h.results.length)===0||(o.data.results.forEach(u=>{l.push(I(u.name))}),a=await Promise.all(l)),a},pe=({limit:t=10})=>({allPokemonsQuery:_({queryKey:["pokemons",{limit:t}],queryFn:ge,getNextPageParam:(s,n)=>{if(s.length!==0)return Math.max(n.length-1,0)+1},refetchOnWindowFocus:!1,staleTime:864e5})}),fe=async t=>await I(t),be=({name:t})=>({pokemon:B({queryKey:["pokemon",{name:t}],queryFn:()=>fe(t),refetchOnWindowFocus:!1,staleTime:864e5})}),xe=()=>{const[t,r]=c.exports.useState(0),[s,n]=c.exports.useState(!1),[a,l]=c.exports.useState(!1),o=()=>{window.scroll(0,0)},h=c.exports.useCallback(()=>{const u=window.pageYOffset||document.documentElement.scrollTop;u>t?n(!0):n(!1);const D=u<=0?0:u;r(D)},[t]);return c.exports.useEffect(()=>(window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)}),[h]),c.exports.useEffect(()=>{const u=setTimeout(()=>{l(s)},252);return()=>{clearTimeout(u)}},[s]),{scrollTop:o,toggleVisible:a,applyAnimation:s}},ye=()=>{const{scrollTop:t,toggleVisible:r,applyAnimation:s}=xe();return e(m,{children:r&&e("button",{className:`fixed bottom-5 right-5 ${s?"animate-growIn":"animate-growOut"}`,onClick:t,children:e("div",{className:"flex justify-center items-center z-100 w-8 h-8 p-2 rounded-full text-gray-300 bg-blueLigth dark:bg-blueDark",children:e(re,{className:"w-4 h-4"})})})})},we=()=>i(m,{children:[e(R,{getKey:(t,r)=>["/"].includes(t.pathname)?t.pathname:t.key}),e(ie,{}),e(F,{}),e(ye,{})]}),ve=({className:t,pokemon:r})=>{var o;const s=g(),n=q();return i("button",{onClick:()=>s(`/pokemon/${r.name}`),onMouseEnter:()=>{n.setQueryData(["pokemon",{name:r.name}],r)},className:"transform transition duration-500 hover:scale-105",children:[i(w,{className:`flex flex-col justify-center items-center py-4 md:h-56 ${t}`,imgColor:r.image,children:[e(p,{width:80,height:80,alt:r.name,src:r.image}),e(d,{variant:"h1",className:"text-lg md:hidden",children:r.name}),e(d,{variant:"h2",className:"text-md md:hidden",children:r.id})]}),i("div",{className:"hidden md:block mt-1","data-testid":"description-section",children:[i("div",{className:"flex justify-between mx-2 items-center",children:[i(d,{children:["n",r.id]}),i("span",{className:"bg-green-500 rounded text-xs text-white px-2 py-1",children:["w: ",r.weight]})]}),i("div",{className:"flex justify-between items-center mx-2 mt-1",children:[e(d,{variant:"h2",children:r.name}),i("span",{className:"bg-blueLigth rounded text-white text-xs px-2 py-1",children:["s: ",((o=r==null?void 0:r.stats[0])==null?void 0:o.base_stat)||0]})]})]})]})},ke=({pokemons:t=[]})=>e("div",{className:"grid grid-cols-2 gap-8 my-5 md:grid-cols-3 lg:grid-cols-5",children:t.map(r=>e(ve,{pokemon:r},r.id))}),Ne=()=>{var s,n;const{allPokemonsQuery:t}=pe({limit:10}),r=c.exports.useCallback(()=>{t.fetchNextPage()},[t]);return e($,{error:t.error,children:i(le,{onReachEnd:r,isLoading:t.isFetching,children:[t.isLoading&&e(C,{}),e(ne,{}),e(x,{children:e(ke,{pokemons:(n=(s=t.data)==null?void 0:s.pages)==null?void 0:n.flat()})})]})})},Le=({pokemon:t})=>e(m,{children:i(k,{children:[e("title",{children:"Pokemon Detail"}),e("meta",{property:"og:title",content:t==null?void 0:t.name}),e("meta",{property:"og:description",content:"The best Pokedex ever"}),e("meta",{property:"og:image",content:t==null?void 0:t.sprites.front_shiny})]})}),Pe=({pokemon:t,onBackPress:r})=>i("div",{className:"flex items-center mb-5",children:[e("button",{className:"text-blueDark md:hidden",onClick:r,"data-testid":"backButton",children:e(Z,{className:"dark:text-gray-300"})}),i("div",{className:"flex flex-1 mr-8 flex-col items-center md:mr-0 md:items-start",children:[e(d,{variant:"h1",className:"text-3xl","data-testid":"pokemon-name",children:t==null?void 0:t.name}),i(d,{variant:"h2",className:"text-md",children:["weight: ",t==null?void 0:t.weight]})]})]}),Ce=({pokemon:t})=>e(w,{className:"flex justify-center items-center h-80 md:h-[30rem] md:mr-10",imgColor:t==null?void 0:t.image,children:e(p,{width:200,height:200,alt:(t==null?void 0:t.name)||"",src:(t==null?void 0:t.image)||""})}),Se={front_default:"",front_shiny:"",back_default:"",back_shiny:""},je=({pokemon:t})=>e("div",{className:"flex gap-2 mt-2",children:Object.keys(Se).map((r,s)=>{const n=t!=null&&t.sprites.hasOwnProperty(r)?t==null?void 0:t.sprites[r]:"";return e(w,{className:"flex justify-center items-center w-60 h-[6rem] md:h-[8rem]",imgColor:n,children:e(p,{width:80,height:80,alt:(t==null?void 0:t.name)||"",src:n})},`${r}-${s}`)})}),$e=()=>{const t=g(),{name:r}=Q(),{pokemon:s}=be({name:r||"pikachu"}),{data:n}=s,a=()=>t("/",{preventScrollReset:!0});return i($,{error:s.error,children:[e("span",{className:"hidden","data-testid":"poke-params",children:r}),s.isLoading&&e(C,{}),e(Le,{pokemon:n}),e("div",{className:"hidden md:block",children:e(x,{className:"border-none",children:e(P,{className:"max-w-xs",labelClassName:"md:text-left"})})}),e(x,{children:i("div",{className:"flex flex-col md:mt-0 md:flex-row pt-10",children:[i("div",{className:"md:w-1/2",children:[e(Pe,{pokemon:n,onBackPress:a}),e(Ce,{pokemon:n})]}),i("div",{className:"md:w-1/2 md:flex md:flex-col md:justify-center md:mx-5",children:[e("div",{className:"flex gap-5 mt-5",children:e("span",{className:"text-blueDark font-bold md:text-lg dark:text-gray-300",children:"Forms"})}),e(je,{pokemon:n}),i("div",{className:"my-5",children:[e(d,{variant:"h1",className:"text-xl",children:n==null?void 0:n.name}),e(d,{variant:"h2",className:"text-md text-left mt-1",children:n==null?void 0:n.ability})]})]})]})}),e("div",{className:"clearfix md:py-5"})]})},Ae=W([{path:"/",element:e(we,{}),children:[{index:!0,element:e(Ne,{})},{path:"pokemon/:name",element:e($e,{})}]},{path:"*",element:e(j,{})}],{basename:"/pokemon-pokedex/"}),Me=new z,Ie=()=>i(H,{client:Me,children:[e(K,{children:e(ce,{children:e(V,{router:Ae})})}),e(G,{initialIsOpen:!1})]});U.createRoot(document.getElementById("root")).render(e(Y.StrictMode,{children:e(Ie,{})}));
